<div>
    <h2>Todo List</h2>
    <div class="add-todo">
        <input [(ngModel)]="newTodo" (keyup.enter)="addTodo()" placeholder="Add a new todo">
        <button (click)="addTodo()">Add</button>
    </div>
    <ul>
        <li *ngFor="let todo of todos">
            <div *ngIf="!todo.isEditing; else editMode" class="todo-item">
                <input type="checkbox" [checked]="todo.isCompleted" (change)="updateTodo(todo)">
                <span [class.completed]="todo.isCompleted">{{ todo.text }}</span>
                <button (click)="editTodo(todo)">Edit</button>
                <button (click)="deleteTodo(todo._id)">Delete</button>
            </div>
            <ng-template #editMode>
                <input [(ngModel)]="todo.editText" (keyup.enter)="saveTodo(todo)">
                <button (click)="saveTodo(todo)">Save</button>
                <button (click)="cancelEdit(todo)">Cancel</button>
            </ng-template>
        </li>
    </ul>
</div>